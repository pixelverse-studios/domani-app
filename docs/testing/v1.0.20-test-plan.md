# Testing Plan: v1.0.20 - Sage Theme Refinement & Analytics Fix

**Build:** 1.0.20 (versionCode 21)
**Date:** February 10, 2026
**Branch:** dev/color-redesign
**Release Type:** Public Beta

---

## Critical: Visual Theme Testing

### Today Screen

- [ ] **Progress Card**
  - [ ] "X Completed" displays in sage green (#7D9B8A), not bright green
  - [ ] "Y Unfinished" displays in terracotta (#D77A61), not bright orange
  - [ ] Circular progress ring is sage green
  - [ ] Layout is correct, no visual glitches

- [ ] **Carousel / Focus Card**
  - [ ] "All Done!" icon background is sage green, not bright green
  - [ ] Party popper icon is sage colored
  - [ ] Carousel slides smoothly
  - [ ] Day type cards show muted colors, not bright ones

- [ ] **Task Cards**
  - [ ] Trash icon is muted brick (#C17B6F), not bright red
  - [ ] High priority badge is terracotta
  - [ ] Category icons and colors display correctly
  - [ ] Swipe actions work properly

### Progress Tab (Analytics)

- [ ] **Daily Completion Chart**
  - [ ] Chart bars use sage-themed colors
  - [ ] Work: Muted blue-gray (#8B9DAF)
  - [ ] Personal: Sage green (#7D9B8A)
  - [ ] Wellness: Terracotta (#D77A61)
  - [ ] Education: Warm amber (#E8B86D)
  - [ ] "Unfinished" label shows (not "Remaining")
  - [ ] Chart legend only shows categories with tasks in last 7 days
  - [ ] No bright colors anywhere

- [ ] **Weekly Summary Card**
  - [ ] Trophy icon: Warm amber background, not bright yellow
  - [ ] Activity icon: Sage green background
  - [ ] Perfect days icon: Terracotta background, not bright green
  - [ ] All icons have proper opacity backgrounds
  - [ ] Numbers animate smoothly

- [ ] **Completion Rate**
  - [ ] Circular progress shows correct percentage
  - [ ] "X of Y tasks done" displays accurately
  - [ ] Progress ring is sage colored

---

## Critical: Analytics Functionality

### User Categories in Analytics

- [ ] **Create a custom category**
  - [ ] Add new category in settings
  - [ ] Choose a custom color
  - [ ] Save successfully

- [ ] **Add tasks with custom category**
  - [ ] Create 3-5 tasks using the custom category
  - [ ] Mark some complete, leave some incomplete
  - [ ] Spread across multiple days if possible

- [ ] **Verify in Progress tab**
  - [ ] Custom category appears in daily chart
  - [ ] Custom category appears in legend with correct color
  - [ ] Custom category counts toward completion rate
  - [ ] Custom category tasks show in correct days

- [ ] **Test empty categories**
  - [ ] Create a category but don't add tasks
  - [ ] Verify it does NOT appear in chart legend
  - [ ] Only categories with tasks should show

### System Categories

- [ ] **All 4 system categories work**
  - [ ] Work tasks tracked correctly
  - [ ] Personal tasks tracked correctly
  - [ ] Wellness tasks tracked correctly
  - [ ] Education tasks tracked correctly

- [ ] **Mixed system and user categories**
  - [ ] Chart shows both types together
  - [ ] No duplicate entries
  - [ ] Colors are distinct and identifiable
  - [ ] Legend is readable

---

## PostHog Analytics (Development)

**Note:** Only testable in development builds, not Expo Go

- [ ] **Check console logs on app start**
  - [ ] See "[Analytics] Initializing PostHog..." message
  - [ ] No error messages about PostHog
  - [ ] Session replay is disabled (not causing errors)

- [ ] **Test event tracking**
  - [ ] Create a task → should log "[Analytics] Tracking event: task_created"
  - [ ] Complete a task → should log "[Analytics] Tracking event: task_completed"
  - [ ] Navigate screens → should log "[Analytics] Tracking screen: [name]"

- [ ] **PostHog Dashboard** (if accessible)
  - [ ] Events appear within 1-2 minutes
  - [ ] User identification working
  - [ ] Screen views being captured

---

## Regression Testing: Core Functionality

### Planning Flow

- [ ] **Create a plan**
  - [ ] Add multiple tasks for tomorrow
  - [ ] Set MIT (Most Important Task)
  - [ ] Assign categories to tasks
  - [ ] Lock the plan

- [ ] **Edit plan (before lock)**
  - [ ] Reorder tasks via drag and drop
  - [ ] Edit task titles
  - [ ] Change priorities
  - [ ] Delete tasks

- [ ] **Execute plan (next day)**
  - [ ] Complete tasks by checking them off
  - [ ] Verify completion animations work
  - [ ] Progress card updates in real-time
  - [ ] MIT completion tracked

### Task Management

- [ ] **Create tasks**
  - [ ] Quick add via placeholder
  - [ ] Set priority (high, medium, low)
  - [ ] Assign category (system or custom)
  - [ ] Add notes/description
  - [ ] Set estimated duration

- [ ] **Complete tasks**
  - [ ] Check off a task
  - [ ] See checkmark animation
  - [ ] Strikethrough text appears
  - [ ] Progress updates

- [ ] **Delete tasks**
  - [ ] Swipe to reveal delete button
  - [ ] Trash icon is muted brick color
  - [ ] Confirm deletion works
  - [ ] Task removed from list and analytics

### Categories

- [ ] **Manage custom categories**
  - [ ] Create new category
  - [ ] Edit category name and color
  - [ ] Delete unused category
  - [ ] Category limits enforced (if any)

- [ ] **Category selection**
  - [ ] See both system and user categories
  - [ ] Icons display correctly
  - [ ] Colors match expected values
  - [ ] Selection persists

---

## Edge Cases & Stress Testing

### Analytics Edge Cases

- [ ] **No tasks scenario**
  - [ ] New user with zero tasks
  - [ ] Progress tab shows empty state (not errors)
  - [ ] Can navigate away without crashes

- [ ] **All tasks in one category**
  - [ ] Create 10 tasks all in one category
  - [ ] Chart should still render properly
  - [ ] Other categories don't show in legend

- [ ] **100% completion**
  - [ ] Complete all tasks for a day
  - [ ] Progress shows 100%
  - [ ] "0 Unfinished" displays correctly
  - [ ] Perfect day counted in weekly summary

- [ ] **0% completion**
  - [ ] Create tasks but complete none
  - [ ] Progress shows 0%
  - [ ] Chart still renders
  - [ ] Appropriate messaging

### UI Edge Cases

- [ ] **Long category names**
  - [ ] Create category with 20+ characters
  - [ ] Name truncates properly in legend
  - [ ] No layout breaking

- [ ] **Many categories (10+)**
  - [ ] Create 10+ categories with tasks
  - [ ] Legend wraps or scrolls properly
  - [ ] Performance remains good
  - [ ] Colors remain distinct

- [ ] **Rapid task creation**
  - [ ] Quickly create 20 tasks
  - [ ] No UI lag or freezing
  - [ ] All tasks appear correctly
  - [ ] Analytics update properly

---

## Settings & Configuration

### Danger Zone (Color Update)

- [ ] **Delete account section**
  - [ ] "Delete Account" button is muted brick, not bright red
  - [ ] Alert icon is muted brick
  - [ ] Warning text is readable
  - [ ] Background has subtle brick tint
  - [ ] Flow works (don't actually delete!)

### Theme Consistency

- [ ] **Check all screens**
  - [ ] Today screen
  - [ ] Planning screen
  - [ ] Progress screen
  - [ ] Settings screen
  - [ ] All use sage theme colors
  - [ ] No bright/jarring colors anywhere

---

## Platform-Specific Testing

### Android

- [ ] **Installation**
  - [ ] Clean install works
  - [ ] Update from 1.0.19 works
  - [ ] Version shows as 1.0.20 in settings
  - [ ] App icon displays correctly

- [ ] **Performance**
  - [ ] Animations smooth (60fps)
  - [ ] No lag when scrolling charts
  - [ ] Task list scrolls smoothly
  - [ ] No memory leaks over time

- [ ] **Notifications**
  - [ ] Notification color is sage (#7D9B8A)
  - [ ] Deep links work from notifications
  - [ ] Permission requests work

### iOS (if applicable)

- [ ] Same checklist as Android
- [ ] Apple Sign In works
- [ ] Biometric auth works
- [ ] iOS-specific animations smooth

---

## Blocker Criteria

**Do NOT release if:**

1. BLOCKER: Analytics completely broken (no data showing)
2. BLOCKER: User categories not appearing in analytics
3. BLOCKER: App crashes on startup
4. BLOCKER: Tasks cannot be created or completed
5. BLOCKER: Bright colors still present (theme regression)
6. BLOCKER: Data loss or corruption
7. BLOCKER: Authentication broken

**Can release with (but document):**

1. WARNING: Minor animation jank
2. WARNING: Non-critical visual inconsistencies
3. WARNING: PostHog not tracking (since it's logging only)
4. WARNING: Edge case layout issues with extreme data

---

## Notes & Observations

**During testing, note:**

- Any colors that still look too bright
- Performance issues on older devices
- User experience friction points
- Unexpected behavior
- Console errors or warnings

**Test on:**

- [ ] Your primary device
- [ ] Older/slower device if available
- [ ] Different screen sizes
- [ ] Both light/dark system themes (if supported)

---

## Sign-Off

- [ ] All critical tests passed
- [ ] No blockers found
- [ ] Known issues documented
- [ ] Build approved for public beta release

**Tested by:** ********\_********
**Date:** ********\_********
**Device(s):** ********\_********
**Build version verified:** v1.0.20 (21)

---

## What's New (For Release Notes)

**Color Theme Refinement:**

- Refined all colors to match our sage aesthetic
- Softer, more calming visual experience
- Better visual consistency throughout the app

**Analytics Improvements:**

- Custom categories now fully tracked in Progress analytics
- Chart legend shows only categories you're using
- Clearer labeling ("Unfinished" vs "Remaining")

**UI Polish:**

- Updated action colors to be less alarming
- Improved weekly summary presentation
- Better visual hierarchy in progress cards

**Bug Fixes:**

- Fixed analytics tracking for custom categories
- Improved PostHog initialization
- Various color and theme consistency fixes
